<div class="login-page" ng-controller="DashboardCtrl" ng-init="load()">
    <daimont-header></daimont-header>
    <div class="page-header" filter-color="orange">
        <div class="profile-header-image"></div>
        <div class="container">
            <div class="" ui-view>
                  <div class="row col-lg-12" ng-show="records.length == 0 && Records">
                      <div ng-show="records.length == 0 && Records" style="text-align: center;width: 100%;">
                      <div style="position: relative;margin-top: 20%;">
                            <h4>No tienes creditos pendientes.</h4>
                            <a  href="#/nuevo-credito" ui-sref=".new_credit()" class="btn btn-primary"><i class="now-ui-icons ui-1_simple-add"></i>&nbsp;Nuevo credito</a>   
                      </div>
                      </div>
                      <div style="flex:1;" class="loader-wrapper" ng-show="!Records">
                            <img style="width:250px;" src="images/loading.svg">
                      </div>
                  </div>
                    <div class="main-wrap row col-lg-12" style="width: 900px;margin: 0 auto;padding-top: 10px;" >
                        <div  ng-show="signed" style="border-radius: 5px;margin: 0 auto;" class="alert alert-primary alert-dismissible fade show" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="position: relative;top: -2px;  ">
                            <span aria-hidden="true">&times;</span>
                          </button>
                          <strong>Listo!</strong>Te notificaremos en breve sobre el estado de tu prestamo.
                        </div>
                        <div ng-show="!have_contract" style="border-radius: 5px;margin: 0 auto;" class="alert alert-warning alert-dismissible fade show" role="alert">
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="position: relative;top: -2px;  ">
                            <span aria-hidden="true">&times;</span>
                          </button>
                          <strong>Por favor!</strong> para continuar es necesario que firmes nuestro contrato.
                        </div>
                      <div class="row" style="width: 100%;top: 70%;position: relative;padding-top:5%;" ng-show="records.length > 0">
                             <div class="col-lg-4 upload-area" style="height: 400px;background-color: rgba(0, 0, 0, 0.28);display:flex;">
                                <form name="approvedForm">
                                    <div class="form-group">
                                         <input type="file" id="transaction" name="evidence" name="pic" accept="image/*" ng-model="file" required reader="$parent.new_payment_form.transaction" style="display:none;">      
                                    </div>                                                
                                </form>
                                <a href="" ng-click="upload()" class="upload_link" ><p>Sube la foto de tu consignación o transferencia bancaria</p></a>

                                <button class="btn btn-primary" type="button"  ng-click="show_banks()" style="position: absolute;bottom: 19px;text-align: center;    left: 27%;">¿ Donde Pagar ?</button>
                             </div>
                            <div class="col-lg-8">
                            <div class="row col-lg-12">
                                <div class="col-lg-8 row">
                                    <h3 class="float-left" style="margin-bottom: 5px;">Resumen de Credito </h3>
                                </div>
                                <div class="col-lg-4">
                                    <span class="float-right"><a href="" ng-click="show_details()" class="text-white" style="top: 10px;
    position: relative;"><i class="fa fa-eye" aria-hidden="true" ng-show="!show_detail"></i> <i class="fa fa-eye-slash" aria-hidden="true" ng-show="show_detail"></i> {{ show_detail ? 'Ocultar Detalles' : 'Mostrar Detalles' }}</a></span>
                                </div>
                            </div>
                            <div class="row col-lg-12" ng-show="!show_detail">
                               <div class="progress-container progress-primary" style="width:100%;">
                                    <div class="row">
                                        <div class="col-lg-6 text-left">
                                            {{payForDays}} dias transcurridos.
                                        </div>
                                        <div class="col-lg-6 text-right">
                                            <span class="badge badge-warning"style="margin-top:5px;margin-bottom: 30px;">{{current_credit.data.pay_day | moment: 'format': 'MMMM DD, YYYY' }}</span>
                                        </div>
                                    </div>
                                    <div class="row" style="margin-bottom: 5px;">
                                        <div class="col-lg-6 text-left">Estado</div>
                                    </div>
                                    <div class="row text-left" style="margin-bottom:15px;">
                                        <div class="col-lg-12">
                                                <span class="badge badge-default" ng-show="current_credit.data.status == 'Pendiente'">PENDIENTE</span>
                                                <span class="badge badge-success" ng-show="current_credit.data.status == 'Aceptado'">APROBADO</span>
                                                <span class="badge badge-success" ng-show="current_credit.data.status == 'Consignado'">CONSIGNADO</span>
                                                <span class="badge badge-danger" ng-show="current_credit.data.status == 'Rechazado'">RECHAZADO</span>
                                                <span class="badge badge-warning" ng-show="current_credit.data.status == 'Desactualizado'">REQUIERE ACTUALIZACION</span>
                                        </div>
                                    </div>
                                    <div class="row"> 
                                      <div class="col-lg-4">
                                        <div class="form-group">
                                          <label>Monto</label>
                                          <h3 style="margin-bottom:10px;font-size:20px;" class="float-left">{{current_credit.data.amount[0] | currency:"$ "}} COP</h3>
                                        </div>   
                                      </div>
                                      <div class="col-lg-4">
                                        <div class="form-group">
                                          <label>Total a pagar a la fecha</label>
                                          <h3 style="margin-bottom:10px;font-size:20px;" class="float-left">{{current_credit.data.total_payment | currency:"$ "}} COP</h3>
                                        </div>
                                      </div>
                                      <div class="col-lg-4">
                                        <div class="form-group">
                                          <label>Total a pagar hoy</label>
                                          <h3 style="margin-bottom:10px;font-size:20px;" class="float-left text-warning">{{paymentForm.total_payment | currency:"$ "}} COP</h3>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-6 text-left">
                                          <a ng-click="confirm()" ng-show="!have_contract" class="btn btn-success">CONTINUAR</a>
                                          <a ng-show="is_transfered"  ng-click="show_banks()" class="btn btn-success">PAGAR</a>
                                        </div>
                                    </div>
                                </div> 
                            </div>

                            <div class="row col-lg-12" ng-show="show_detail">
                               <div class="progress-container progress-primary" style="width:100%;">
                                    <div class="row">
                                        <div class="col-lg-6 text-left">
                                          {{payForDays}} dias transcurridos.
                                        </div>
                                        <div class="col-lg-6 text-right">
                                            <span class="badge badge-warning"style="margin-top:5px;margin-bottom: 30px;">{{current_credit.data.pay_day | moment: 'format': 'MMMM DD, YYYY' }}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-6">
                                          <div class="form-group">
                                             <label style="display:inline;" class="col-lg-6 text-left">Intereses</label>
                                              <h3>{{paymentForm.interestsDays | currency:"$ "}} COP</h3>                                      
                                          </div>
                                        </div>
                                        <div class="col-lg-6">
                                          <div class="form-group">
                                             <label style="display:inline;" class="col-lg-6 text-left">Gestión de Credito</label>
                                              <h3>{{paymentForm.system_quote | currency:"$ "}} COP</h3>                                      
                                          </div>
                                        </div>                                      
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-6">
                                          <div class="form-group">
                                             <label style="display:inline;" class="col-lg-6 text-left">IVA</label>
                                              <h3>{{paymentForm.iva | currency:"$ "}} COP</h3>                                      
                                          </div>
                                        </div>
                                        <div class="col-lg-6">
                                          <div class="form-group">
                                             <label style="display:inline;" class="col-lg-6 text-left">Total a Pagar Hoy</label>
                                              <h3 class="text-warning">{{paymentForm.total_payment | currency:"$ "}} COP</h3>                                      
                                          </div>
                                        </div>                                      
                                    </div>
                                    <br>
                                    <br>
                                    <br>
                                    <div class="row">
                                        <div class="col-lg-12 text-left">
                                               <a ng-click="confirm()" ng-show="!have_contract" class="btn btn-success">CONTINUAR</a>
                                          <a ng-show="is_transfered"  ng-click="show_banks()" class="btn btn-success">PAGAR</a>
                                        </div>
                                    </div>
                                  </div> 
                            </div>
                            </div>
                      </div>
                  </div>
            </div>
        </div>
        <daimont-footer></daimont-footer>
    </div>
</div>