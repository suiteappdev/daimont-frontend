<div class="dashboard" ng-controller="CreditsCtrl" ng-init="load()" style="margin-top:75px"> <daimont-header></daimont-header> <div class="container"> <div class="row"> <ol class="breadcrumb" style="width:100%;margin-top:10px"> <li class="breadcrumb-item"><a href="#/credits/firmado" ui-sref="credits({status : 'firmado'})">Principal</a></li> <li class="breadcrumb-item active">Prestamos</li> </ol> </div> </div> <div class="container" style="background-color: #ffffff;padding: 20px"> <div class="panel panel-default panel-table"> <div class="panel-heading"> <div class="row"> <div class="col-lg-6"> <h3 class="panel-title" style="margin-bottom: 10px;!important"><i class="fa fa-credit-card text-primary"></i> Mis Prestamos - <span class="text-muted" style="font-size: 18px;text-transform: capitalize">{{params.status || 'Todos'}}</span></h3> <p class="text-muted">Prestamos realizados recientemente.</p> </div> <div class="col-lg-6 form-group"> <div class="pull-right"> <div class="dropdown"> <button class="btn btn-default btn-icon btn-icon-mini btn-round" id="about-us" data-toggle="dropdown" aria-haspopup="true"> <i class="fa fa-filter"></i> </button> <div class="dropdown-menu dropdown-menu-right"> <a class="dropdown-header">FILTRAR POR</a> <a href="#/credits/pendiente" ui-sref="credits({status : 'todos'})" class="dropdown-item"><span class="badge badge-default">TODOS</span></a> <a href="#/credits/pendiente" ui-sref="credits({status : 'pendiente'})" class="dropdown-item"><span class="badge badge-default">PENDIENTE POR FIRMAR</span></a> <a href="#/credits/aceptado" ui-sref="credits({status : 'aceptado'})" class="dropdown-item"><span class="badge badge-success">APROBADO</span></a> <a href="#/credits/firmado" ui-sref="credits({status : 'firmado'})" class="dropdown-item"><span class="badge badge-primary">FIRMADO</span></a> <a href="#/credits/consignado" ui-sref="credits({status : 'consignado'})" class="dropdown-item"><span class="badge badge-success">CONSIGNADO</span></a> <a href="#/credits/consignado" ui-sref="credits({status : 'finalizado'})" class="dropdown-item"><span class="badge badge-success">FINALIZADO</span></a> <a href="#/credits/rechazado" ui-sref="credits({status : 'rechazado'})" class="dropdown-item"><span class="badge badge-danger">RECHAZADO</span></a> <a class="dropdown-header">Perfil</a> <a href="#/credits/actualizado" ui-sref="credits({status : 'actualizado'})" class="dropdown-item"><span class="badge badge-success">ACTUALIZADO</span></a> <a href="#/credits/desactualizado" ui-sref="credits({status : 'desactualizado'})" class="dropdown-item"><span class="badge badge-danger">DESACTUALIZADO</span></a> </div>  </div> </div> </div> </div> </div> <br> <br> <div class="panel-body"> <div class="row col-lg-12"> <div ng-show="records.length == 0 && Records" style="text-align: center;width: 100%"> <div style="position: relative"> <h4>No existen registros</h4> </div> </div> <div style="flex:1" class="loader-wrapper" ng-show="!Records"> <div style="width: 400px;margin: 0 auto;text-align: center"> <img style="width:80px;margin-bottom:10px" src="images/loading.svg"> <p clas="text-white">Estamos cargando listado de prestamo...</p> </div> </div> </div> <div class="row" ng-show="records.length > 0"> <div class="col-lg-6 form-group"> <div class="row"> <div class="col-lg-4"> <label>Buscar</label> <div class="form-group"> <input type="text" ng-model="search" placeholder="Buscar Prestamo" class="form-control"> </div> </div> <div class="col-lg-8 row"> <div class="col-lg-6"> <button href="#/pronto-pago" ng-disabled="!items_tasks[0].data.deposited_time" ui-sref="pronto_pago({ credit : items_tasks[0]._id})" style="margin-top:28px" class="btn btn-primary btn-block" ng-show="items_tasks.length > 0">Consultar mora</button> </div> <div class="col-lg-6"> <a href="" ng-click="update_cupon()" style="margin-top:28px" class="btn btn-primary btn-block" ng-show="items_tasks.length > 0">Editar Cupo</a> </div> </div> </div> </div> <div class="col-lg-6"> <div class="form-group pull-right" style="width:150px"> <selectize name="estrato" required config="itemsConfig" options="[{value:&quot;20&quot;, text:&quot;20&quot;}, {value:&quot;40&quot;, text:&quot;40&quot;}, {value:&quot;60&quot;, text:&quot;60&quot;},  {value:&quot;70&quot;, text:&quot;70&quot;}, {value:&quot;80&quot;, text:&quot;80&quot;}, {value:&quot;90&quot;, text:&quot;90&quot;}, {value:&quot;100&quot;, text:&quot;100&quot;}]" ng-model="items"></selectize> </div> </div> </div> <div class="table-responsive" ng-show="records.length > 0 "> <table class="table table-hover"> <thead> <tr> <th></th> <th ng-show="params.status == 'firmado'"># credito</th> <th>Cliente</th> <th>Estado del Credito</th> <th>Tipo</th> <th>Fecha solictud</th> <th>Fecha pago</th> <th>Cuenta</th> <th>Perfil</th> <th>Monto</th> <th>Interes</th> <th>Total</th> </tr> </thead> <tbody> <tr> <td colspan="9" class="text-center" ng-show="!filtered || filtered.length == 0"><i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp;No existen registros</td> </tr> <tr ng-click="detail()" style="border-left: 10px solid #002223;cursor:pointer" pagination-id="credits_entity" dir-paginate="record in filtered = (records | orderBy: params.status == 'finalizado' ? '-_payment.createdAt' : '-createdAt' | filter:search | filter:status_filter | filter:{_user :  { data : { updated : profile_filter}} })                
              | itemsPerPage: items"> <td ng-click="$event.stopPropagation()"> <input id="checkbox1" type="checkbox" ng-model="record.add" ng-change="add_to_task()"> </td> <td ng-show="params.status == 'firmado'">{{record.data.count}}</td> <td>{{record._user.name + ' ' + record._user.data.second_name + ' ' + record._user.last_name + ' ' + record._user.data.second_last_name }}</td> <td> <span class="badge badge-default" ng-show="record.data.status == 'Pendiente'">PENDIENTE POR FIRMAR</span> <span class="badge badge-primary" ng-show="record.data.status == 'Aceptado'">APROBADO</span> <span class="badge badge-primary" ng-show="record.data.status == 'Firmado'">FIRMADO</span> <span class="badge badge-primary" ng-show="record.data.status == 'Pagado'">PAGADO</span> <span class="badge badge-success" ng-show="record.data.status == 'Consignado'">CONSIGNADO</span> <span class="badge badge-success" ng-show="record.data.status == 'Finalizado'">FINALIZADO</span> <span class="badge badge-danger" ng-show="record.data.status == 'Rechazado'">RECHAZADO</span> </td> <td>{{record.data.offer ? 'Con oferta' : 'Sin oferta'}}</td> <td>{{record.createdAt | moment: 'format': 'MMMM DD YYYY, h:mm:ss a'}}</td> <td>{{record._payment.createdAt || record.data.pay_day | moment: 'format': 'MMMM DD, YYYY, h:mm:ss a' }}</td> <td><a ng-show="record._user.data.facebookId" href="http://facebook.com/{{record._user.data.facebookId}}" target="_blank">Facebook</a><p ng-show="!record._user.data.facebookId">Daimont</p></td> <td><span class="badge badge-success" ng-show="record._user.data.updated">Actualizado</span> <span class="badge badge-danger" ng-show="!record._user.data.updated">Desactualizado</span></td> <td>{{record.data.amount[0] | currency:"$ ":0}}</td> <td>{{record._payment.data.interestsDays || record.data.interestsDays | currency:"$ ":0}}</td> <td>{{record._payment.data.total_payment || record.data.total_payment | currency:"$ ":0}}</td> </tr> </tbody> </table> </div> </div> <br> <br> <div class="pull-left"> <dir-pagination-controls class="pull-right" pagination-id="credits_entity"></dir-pagination-controls> </div> </div> <br> <br> <br> <br> <br> <br> <br> <br> </div> <daimont-footer></daimont-footer></div>